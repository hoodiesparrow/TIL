# 함수형 코딩

> 마크다운에는 배운 내용을 정리, 예제 코드들은 같은 폴더 내부의 자바스크립트 파일로 정리했다.

## 시작하며

### 읽게 된 계기

자바스크립트로 리액트, 노드 코드를 짜면서도 특정한 패턴-또는 규칙- 없이 코드를 작성하고 있는 나를 발견했다. 이전에도 함수형 프로그래밍에 관심이 있었지만, 반드시 함수형 프로그래밍을 하지 않더라도 책의 내용이 좋은 코드를 짜는 데 많은 도움이 될 것이라는 글을 보고 망설임 없이 구매하게 되었다.

## 함수형 프로그래밍

### 액션, 계산 그리고 데이터

#### 액션

액션은 시점과 횟수에 의존하는, `부수 효과`가 존재하는 함수이다.

- 이메일 보내기
- 데이터베이스에서 특정 유저의 구독자 수 가져오기

#### 계산

계산은 동일한 입력에 대해 일관된 출력을 반환하는 `순수 함수`(수학의 함수를 떠올리면 쉽다) 이다.

- 주어진 배열에서 최대값 찾기
- 이메일 주소가 유효한 지 확인하기

#### 데이터

데이터는 이벤트에 대한 사실이다.

- 이메일을 보낼 때 사용된 이메일 주소
- 데이터베이스에서 가져온 특정 유저의 구독자 수
  - 이메일을 보내거나, 데이터베이스에서 무언갈 가져오는 것이 이벤트이다
  - 이벤트를 통해 얻어진 정보가 데이터이다

## 액션, 계산 그리고 데이터를 구별하는 이유

액션은 테스트하기 힘들고 부수 효과를 일으킨다. 부수 효과를 잘 제어하기 위해 액션에서 최대한 계산을 덜어내야 한다.

계산은 외부에 영향을 주지 않으므로 테스트가 용이하다.

- 이메일을 보내며 내용을 작성하는 액션이 있었다면,
  - 내용을 작성하는 계산과 이메일을 보내는 액션으로 나눌 수 있다.
  - 이때 미리 작성된 내용을 검증하는 것은 보내진 이메일에서 작성된 내용을 확인하는 것보다 용이하다.

데이터는 할 수 있는 것이 없기에 좋다.

- 직렬화를 통해 다른 곳으로 전송할 수 있다. 액션 또는 계산은 다른 곳으로 전송하기에 적합하지 않다.
- 동일성 비교를 할 수 있다.
- 자유로운 해석을 할 수 있다.
  - 그러나 해석하지 않는다면 쓸모가 없어진다.

## 액션에서 계산 빼내기

### 함수의 입력과 출력

```js
var iAmGlobalVariable = 10;

function inputAndOutput(arg) {
  console.log(iAmGlobalVariable);
  iAmGlobalVariable += 1;
  return iAmGlobalVariable;
}
```

모든 함수는 입력과 출력을 가진다. 이때, 명시적인 입출력, 암묵적인 입출력으로 나눌 수 있다.

- 함수를 호출할 때 넘겨준 인자는 **명시적 입력**이다.
- 전역 변수를 읽는 것은 **암묵적 입력**이다.
- 콘솔 로그를 찍는 것은 **암묵적 출력**이다.
- 전역 변수를 변화시키는 것도 **암묵적 출력**이다.
- 리턴값은 **명시적 출력**이다.

<u>함수에 암묵적 입력과 출력이 있으면 액션이 된다.</u>

- 암묵적 입력과 출력의 다른 이름은 **부수 효과**이다.

### 테스트와 재사용성은 입출력과 관련된다

DOM에 접근할 수 있는 환경(그리고 DOM을 변경해야 하는 상황)에서 액션과 계산, 데이터를 분리하지 않고 코드를 작성하면, DOM이 없는 곳에서 해당 비즈니스 로직을 적용하기 위해 **코드를 그대로 사용할 수 없음**. 즉 **비즈니스 로직과 DOM 업데이트를 분리**해야 하며, 이를 위해서는 암묵적 입출력을 피해야 함.

코드만 정리하면서 1회독 후 속독하며 정리하기 (~75p)

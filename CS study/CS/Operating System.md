# 운영체제



## 프로세스와 스레드

#### 프로세스 Process

프로세스는 실행 중인 프로그램으로 디스크로부터 메모리에 적재되어 CPU의 할당을 받을 수 있는 것을 말한다. 운영체제로부터 주소 공간, 파일, 메모리 등을 할당받으며 이것들을 총칭하여 프로세스라고 한다. 구체적으로 프로세스는 함수의 매개변수, 복귀 주소와 로컬 변수와 같은 임시 자료를 갖는 프로세스 스택과 전역 변수들을 수록하는 데이터 섹션을 포함한다. 또한 프로세스는 프로세스 실행 중 동적으로 할당되는 메모리입 힙을 포함한다.

##### 프로세스에 할당되는 메모리 영역

- Code : 프로세스가 실행할 코드가 기계어의 형태로 저장된 공간이다. Read-Only이다.
- Data : 전역 변수, static 변수등이 저장된 공간이다. 전역 변수, static 변수를 참조한 코드는 컴파일하고 나면 데이터 영역의 주소값을 가르킨다. 프로그램의 시작과 함께 할당되며, Read-Write이다.
  - Read-Write : 실행 도중 변경 가능
- Heap : 프로그래머가 관리하는 메모리 영역으로, 힙 영역에 메모리를 할당하는 것을 동적 할당이라고 한다. 런타임에 결정되며, Stack보다 할당할 수 있는 메모리 공간이 많으나 데이터의 읽기/쓰기가 상대적으로 느리다.
- Stack : 함수 안에서 선언된 지역변수, 매개변수, 리턴 값, 복귀 주소등이 저장된다. 스택의 LIFO 방식에 따라 함수 호출 시 기록하고 종료되면 제거한다. 컴파일 타임에 결정되며, 정해진 크기 초과시 stack overflow 에러가 발생할 수 있다.

정리하면 힙을 제외한 나머지는 컴파일 타임에 결정되고, Heap



> [런타임이란? 컴파일타임 과의 차이는? (tistory.com)(https://spaghetti-code.tistory.com/35)
>
> 개발자는 컴파일이라는 과정을 통해 소스코드를 기계어코드로 변환하여 실행 가능한 프로그램으로 만들 수 있다. 이 시기를 컴파일타임이라고 칭한다. 컴파일을 마친 프로그램은 사용자에 의해 실행되며, 응용프로그램이 동작되어지는 때를 런타임이라고 칭한다



궁금증) C로 작성된 소스코드는 컴파일되어 설치 프로그램 내부에 적재된 후 내 컴퓨터에서 설치되고 실행되는 것일까?

궁금증) Vue 프레임워크를 활용한 웹 개발 중 `npm run serve` 를 하면 내 코드가 컴파일되는 과정을 거친 후 실행되는 것일까?



#### 프로세스 제어 블록 Process Control Block, PCB

PCB는 특정 프로세스에 대한 중요한 정보를 저장하고 있는 운영체제의 자료구조이다. 운영체제는 프로세스를 관리하기 위해 프로세스의 생성과 동시에 고유한 PCB를 생성한다. 프로세스는 CPU를 할당받아 작업을 처리하다가도 프로세스 전환이 발생하면 진행하던 작업을 저장하고 CPU를 반환해야 하는데, 이때 작업의 진행 상황을 모두 PCB에 저장하게 된다. 다시 CPU를 할당받게 되면, PCB에 저장되어 있던 내용을 불러와 이전에 종료됐던 시점부터 다시 작업을 수행한다.

##### PCB에 저장되는 정보

- 프로세스 식별자 PID : 프로세스 식별번호
- 프로세스 상태 : new, ready, running, waiting, terminated 등의 상태를 저장
- 프로그램 카운터 : 프로세스가 다음에 실행할 명령어의 주소
- CPU 레지스터 : Accumulator, Index Register, 범용 레지스터 등이라는데 정확히 뭔지 모르겠다.
- 

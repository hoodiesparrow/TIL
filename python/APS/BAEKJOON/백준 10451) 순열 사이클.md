# 백준 10451) 순열 사이클

> ## 문제
>
> ![img](https://www.acmicpc.net/upload/images2/permut.png)
>
> 1부터 N까지 정수 N개로 이루어진 순열을 나타내는 방법은 여러 가지가 있다. 예를 들어, 8개의 수로 이루어진 순열 (3, 2, 7, 8, 1, 4, 5, 6)을 배열을 이용해 표현하면 (1234567832781456) 와 같다. 또는, Figure 1과 같이 방향 그래프로 나타낼 수도 있다.
>
> 순열을 배열을 이용해 (1…i…nπ1…πi…πn) 로 나타냈다면, i에서 πi로 간선을 이어 그래프로 만들 수 있다.
>
> Figure 1에 나와있는 것 처럼, 순열 그래프 (3, 2, 7, 8, 1, 4, 5, 6) 에는 총 3개의 사이클이 있다. 이러한 사이클을 "순열 사이클" 이라고 한다.
>
> N개의 정수로 이루어진 순열이 주어졌을 때, 순열 사이클의 개수를 구하는 프로그램을 작성하시오.
>
> ## 입력
>
> 첫째 줄에 테스트 케이스의 개수 T가 주어진다. 각 테스트 케이스의 첫째 줄에는 순열의 크기 N (2 ≤ N ≤ 1,000)이 주어진다. 둘째 줄에는 순열이 주어지며, 각 정수는 공백으로 구분되어 있다.
>
> ## 출력
>
> 각 테스트 케이스마다, 입력으로 주어진 순열에 존재하는 순열 사이클의 개수를 출력한다.



```python
# 10451
import sys

sys.stdin = open('10451.txt')

for t in range(int(input())):
    N = int(input())

    # 인덱스 1에 맨 처음 숫자가 들어있는 배열 생성
    arr = [0] + list(map(int, input().split()))

    # 방문표시
    for i in range(1, N + 1):
        arr[i] = [arr[i], 0]

    ans = N

    cnt = -1
    idx = 1
    next = 1
    while idx != N + 1:
        if not arr[next][1]:
            arr[next][1] = 1
            cnt += 1
            next = arr[next][0]
        else:
            idx += 1
            next = idx
            if cnt > 0:
                ans -= cnt
                cnt = -1
            else:
                cnt = -1

    print(ans)
```

- 간단한 탐색 문제였다. 방문표시와 적절한 변수를 사용한 while 반복문 사용 능력이 필요했다.
  - 어제 벽 부수고 이동하기 문제를 풀어서 그런지 순열의 매 숫자마다 바로 옆자리에 0을 넣어 방문표시를 처리하는 방법이 떠올랐다.
  - 로직은 문제를 이해하자마자 떠올랐는데, 구현하면서 정확한 값을 리턴하도록 변수를 만지는 게 생각보다 시간이 걸렸다. `idx`와 `next`를 사용해서 순회하는 건 괜찮은 아이디어였던  것 같다.


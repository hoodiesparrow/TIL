# 2447. 별 찍기 - 10

> | 시간 제한 | 메모리 제한 | 제출  | 정답  | 맞은 사람 | 정답 비율 |
> | :-------- | :---------- | :---- | :---- | :-------- | :-------- |
> | 1 초      | 256 MB      | 31593 | 16223 | 11880     | 51.273%   |
>
> ## 문제
>
> 재귀적인 패턴으로 별을 찍어 보자. N이 3의 거듭제곱(3, 9, 27, ...)이라고 할 때, 크기 N의 패턴은 N×N 정사각형 모양이다.
>
> 크기 3의 패턴은 가운데에 공백이 있고, 가운데를 제외한 모든 칸에 별이 하나씩 있는 패턴이다.
>
> ```
> ***
> * *
> ***
> ```
>
> N이 3보다 클 경우, 크기 N의 패턴은 공백으로 채워진 가운데의 (N/3)×(N/3) 정사각형을 크기 N/3의 패턴으로 둘러싼 형태이다. 예를 들어 크기 27의 패턴은 예제 출력 1과 같다.
>
> ## 입력
>
> 첫째 줄에 N이 주어진다. N은 3의 거듭제곱이다. 즉 어떤 정수 k에 대해 N=3k이며, 이때 1 ≤ k < 8이다.
>
> ## 출력
>
> 첫째 줄부터 N번째 줄까지 별을 출력한다.

```python
def lev_finder(N):
    rev = -1
    while N != 1:
        N //= 3
        rev += 1
    return rev


def star(pos, lev):
    R, C = pos

    if lev == 0:
        for r in range(3):
            for c in range(3):
                if r != 1 or c != 1:
                    board[R + r][C + c] = '*'
    else:
        limit = 3 ** (lev + 1)
        step = 3 ** lev
        for r in range(0, limit, step):
            for c in range(0, limit, step):
                if r != step or c != step:
                    star((R + r, C + c), lev - 1)


N = int(input())
board = [[' '] * N for n in range(N)]
lev = lev_finder(N)
star((0, 0), lev)

for row in board:
    for col in row:
        print(col, end='')
    print()
```

프랙탈 구조로 별을 찍는 문제이다.

현재 재귀 단계를 `lev`변수로 표현하였으며, 해당 변수는 3 ** (lev + 1) == N으로 표현할 수 있다.

- 계산을 편하게 하기 위해서 `lev`가 0일 때 리스트에 변형을 가한다.
  - 좌표가 (0, 0)으로 주어지면 00 01 02, 10 (11) 12, 20 21 22 순으로 별을 찍어준다.
  - 이때 (1, 1)에서는 처리하지 않는다. (도넛모양)
- `lev`가 0이 아닐 때는 0이 될때까지 패턴을 따라 좌표들을 처리하며 재귀함수를 호출한다.
  - e.g.) N이 9일 때 `lev`는 1인데, 이때 리스트의 행과 열의 길이는 3 \** 2인 9가 되며, 기준이 되는 좌표는 3 \** 1(=lev)인 3을 스텝으로 하여 증가한다. 마찬가지로 27일때는 길이 27(3 ** 3), 한 스텝은 9(3 ** 2(=lev))가 된다.
  - 따라서 처음에 주어진 좌표에서 반복문을 통해 스텝을 주어 좌표를 처리해준 후 `lev - 1`로 다시 재귀함수를 호출한다. 
  - (0, 0), `lev` == 0 일 때 (1, 1) 좌표는 비워두었던 것 처럼, 열과 행이 모두 한 스텝씩만 나아갔을 때는 처리하지 않는다.
  - lev와 관계없이 주어진 좌표에서 3 x 3 칸을 처리하는 구조라는 것을 이해한다면 쉽게 풀이할 수 있다. 
    - 각 칸의 길이와 스텝은 당연히 길이 = 스텝 * 3의 구조를 가진다.



방학 전에는 스스로 풀지 못했을 것 같은 생각이 들지만, 그래도 방학기간에 조금은 재귀와 친해졌는지 혼자 힘으로 많은 고민 없이 풀 수 있었다.